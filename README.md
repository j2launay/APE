# APE: Adapted Post-Hoc Explanations
This repository contains the code presented in the paper [When Should We Use Linear Explanations?](https://doi.org/10.1145/3511808.3557489)([bibtex here for citation]()). The purpose of this method is to explain how a machine learning made a prediction for a given instance. APE for Adapted Post-Hoc Explanations indicates whether a linear explanation is adapted to approximate a classifier for a given instance, if so it returns a linear explanation and the closest counterfactual, otherwise it explains the decision with a decision rule generated by Anchors and counterfactuals. 

## Installation
The APE package is on [Pypi](https://test.pypi.org/project/ape/0.0.1/). Simply run:
* pip install -i https://test.pypi.org/simple/ ape==0.0.1

Python 3.7 version or above is required
In order to install [Libfolding](https://github.com/asiffer/libfolding) the library used to adapt the explanation based on the distributino of data, you must install [Armadillo](http://arma.sourceforge.net/download.html). Therafter install libfolding following indications from the github.  

## Idea behind APE
To update when the medium page will be online.

## Notebook
You can find an example of how to use APE in notebook.ipynb 
For now it only works for tabular but it is up to you to help us adapt to more type of data. Don't hesitate to reach me at julien.delaunay@inria.fr